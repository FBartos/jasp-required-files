<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Histograms and kernel density plots of MCMC draws</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for MCMC-distributions {bayesplot}"><tr><td>MCMC-distributions {bayesplot}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Histograms and kernel density plots of MCMC draws</h2>

<h3>Description</h3>

<p>Various types of histograms and kernel density plots of MCMC draws. See the
<strong>Plot Descriptions</strong> section, below, for details.
</p>


<h3>Usage</h3>

<pre>
mcmc_hist(
  x,
  pars = character(),
  regex_pars = character(),
  transformations = list(),
  ...,
  facet_args = list(),
  binwidth = NULL,
  breaks = NULL,
  freq = TRUE
)

mcmc_dens(
  x,
  pars = character(),
  regex_pars = character(),
  transformations = list(),
  ...,
  facet_args = list(),
  trim = FALSE
)

mcmc_hist_by_chain(
  x,
  pars = character(),
  regex_pars = character(),
  transformations = list(),
  ...,
  facet_args = list(),
  binwidth = NULL,
  freq = TRUE
)

mcmc_dens_overlay(
  x,
  pars = character(),
  regex_pars = character(),
  transformations = list(),
  ...,
  facet_args = list(),
  color_chains = TRUE,
  trim = FALSE
)

mcmc_dens_chains(
  x,
  pars = character(),
  regex_pars = character(),
  transformations = list(),
  ...,
  color_chains = TRUE,
  bw = NULL,
  adjust = NULL,
  kernel = NULL,
  n_dens = NULL
)

mcmc_dens_chains_data(
  x,
  pars = character(),
  regex_pars = character(),
  transformations = list(),
  ...,
  bw = NULL,
  adjust = NULL,
  kernel = NULL,
  n_dens = NULL
)

mcmc_violin(
  x,
  pars = character(),
  regex_pars = character(),
  transformations = list(),
  ...,
  facet_args = list(),
  probs = c(0.1, 0.5, 0.9)
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>A 3-D array, matrix, list of matrices, or data frame of MCMC draws.
The <a href="MCMC-overview.html">MCMC-overview</a> page provides details on how to specify each these
allowed inputs. It is also possible to use an object with an
<code>as.array()</code> method that returns the same kind of 3-D array described on
the <a href="MCMC-overview.html">MCMC-overview</a> page.</p>
</td></tr>
<tr valign="top"><td><code>pars</code></td>
<td>
<p>An optional character vector of parameter names. If neither
<code>pars</code> nor <code>regex_pars</code> is specified then the default is to use <em>all</em>
parameters. As of version <code style="white-space: pre;">1.7.0</code>, <strong>bayesplot</strong> also supports 'tidy'
parameter selection by specifying <code>pars = vars(...)</code>, where <code>...</code> is
specified the same way as in <a href="../../dplyr/html/select.html">dplyr::select(...)</a> and
similar functions. Examples of using <code>pars</code> in this way can be found on the
<a href="tidy-params.html">Tidy parameter selection</a> page.</p>
</td></tr>
<tr valign="top"><td><code>regex_pars</code></td>
<td>
<p>An optional <a href="../../base/html/grep.html">regular expression</a> to use for
parameter selection. Can be specified instead of <code>pars</code> or in addition to
<code>pars</code>. When using <code>pars</code> for tidy parameter selection, the <code>regex_pars</code>
argument is ignored since <a href="../../tidyselect/html/select_helpers.html">select helpers</a>
perform a similar function.</p>
</td></tr>
<tr valign="top"><td><code>transformations</code></td>
<td>
<p>Optionally, transformations to apply to parameters
before plotting. If <code>transformations</code> is a function or a single string
naming a function then that function will be used to transform all
parameters. To apply transformations to particular parameters, the
<code>transformations</code> argument can be a named list with length equal to
the number of parameters to be transformed. Currently only univariate
transformations of scalar parameters can be specified (multivariate
transformations will be implemented in a future release). If
<code>transformations</code> is a list, the name of each list element should be a
parameter name and the content of each list element should be a function
(or any item to match as a function via <code><a href="../../base/html/match.fun.html">match.fun()</a></code>, e.g. a
string naming a function). If a function is specified by its name as a
string (e.g. <code>"log"</code>), then it can be used to construct a new
parameter label for the appropriate parameter (e.g. <code>"log(sigma)"</code>).
If a function itself is specified
(e.g. <code>log</code> or <code>function(x) log(x)</code>)
then <code>"t"</code> is used in the new parameter label to indicate that the
parameter is transformed (e.g. <code>"t(sigma)"</code>).
</p>
<p>Note: due to partial argument matching <code>transformations</code> can be
abbreviated for convenience in interactive use (e.g., <code>transform</code>).</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
<tr valign="top"><td><code>facet_args</code></td>
<td>
<p>A named list of arguments (other than <code>facets</code>) passed
to <code><a href="../../ggplot2/html/facet_wrap.html">ggplot2::facet_wrap()</a></code> or <code><a href="../../ggplot2/html/facet_grid.html">ggplot2::facet_grid()</a></code>
to control faceting.</p>
</td></tr>
<tr valign="top"><td><code>binwidth</code></td>
<td>
<p>Passed to <code><a href="../../ggplot2/html/geom_histogram.html">ggplot2::geom_histogram()</a></code> to override
the default binwidth.</p>
</td></tr>
<tr valign="top"><td><code>breaks</code></td>
<td>
<p>Passed to <code><a href="../../ggplot2/html/geom_histogram.html">ggplot2::geom_histogram()</a></code> as an
alternative to <code>binwidth</code>.</p>
</td></tr>
<tr valign="top"><td><code>freq</code></td>
<td>
<p>For histograms, <code>freq=TRUE</code> (the default) puts count on the
y-axis. Setting <code>freq=FALSE</code> puts density on the y-axis. (For many
plots the y-axis text is off by default. To view the count or density
labels on the y-axis see the <code><a href="bayesplot-helpers.html">yaxis_text()</a></code> convenience
function.)</p>
</td></tr>
<tr valign="top"><td><code>trim</code></td>
<td>
<p>A logical scalar passed to <code><a href="../../ggplot2/html/geom_density.html">ggplot2::geom_density()</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>color_chains</code></td>
<td>
<p>Option for whether to separately color chains.</p>
</td></tr>
<tr valign="top"><td><code>bw, adjust, kernel, n_dens</code></td>
<td>
<p>Optional arguments passed to
<code><a href="../../stats/html/density.html">stats::density()</a></code> to override default kernel density estimation
parameters. <code>n_dens</code> defaults to <code>1024</code>.</p>
</td></tr>
<tr valign="top"><td><code>probs</code></td>
<td>
<p>A numeric vector passed to <code><a href="../../ggplot2/html/geom_violin.html">ggplot2::geom_violin()</a></code>'s
<code>draw_quantiles</code> argument to specify at which quantiles to draw
horizontal lines. Set to <code>NULL</code> to remove the lines.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object that can be further customized using the <strong>ggplot2</strong> package.
</p>


<h3>Plot Descriptions</h3>


<dl>
<dt><code>mcmc_hist()</code></dt><dd>
<p>Histograms of posterior draws with all chains merged.
</p>
</dd>
<dt><code>mcmc_dens()</code></dt><dd>
<p>Kernel density plots of posterior draws with all chains merged.
</p>
</dd>
<dt><code>mcmc_hist_by_chain()</code></dt><dd>
<p>Histograms of posterior draws with chains separated via faceting.
</p>
</dd>
<dt><code>mcmc_dens_overlay()</code></dt><dd>
<p>Kernel density plots of posterior draws with chains separated but
overlaid on a single plot.
</p>
</dd>
<dt><code>mcmc_violin()</code></dt><dd>
<p>The density estimate of each chain is plotted as a violin with
horizontal lines at notable quantiles.
</p>
</dd>
<dt><code>mcmc_dens_chains()</code></dt><dd>
<p>Ridgeline kernel density plots of posterior draws with chains separated
but overlaid on a single plot. In <code>mcmc_dens_overlay()</code> parameters
appear in separate facets; in <code>mcmc_dens_chains()</code> they appear in the
same panel and can overlap vertically.
</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other MCMC: 
<code><a href="MCMC-combos.html">MCMC-combos</a></code>,
<code><a href="MCMC-diagnostics.html">MCMC-diagnostics</a></code>,
<code><a href="MCMC-intervals.html">MCMC-intervals</a></code>,
<code><a href="MCMC-nuts.html">MCMC-nuts</a></code>,
<code><a href="MCMC-overview.html">MCMC-overview</a></code>,
<code><a href="MCMC-parcoord.html">MCMC-parcoord</a></code>,
<code><a href="MCMC-recover.html">MCMC-recover</a></code>,
<code><a href="MCMC-scatterplots.html">MCMC-scatterplots</a></code>,
<code><a href="MCMC-traces.html">MCMC-traces</a></code>
</p>


<h3>Examples</h3>

<pre>
set.seed(9262017)
# some parameter draws to use for demonstration
x &lt;- example_mcmc_draws()
dim(x)
dimnames(x)

##################
### Histograms ###
##################

# histograms of all parameters
color_scheme_set("brightblue")
mcmc_hist(x)

# histograms of some parameters
color_scheme_set("pink")
mcmc_hist(x, pars = c("alpha", "beta[2]"))

mcmc_hist(x, pars = "sigma", regex_pars = "beta")

# example of using 'transformations' argument to plot log(sigma),
# and parsing facet labels (e.g. to get greek letters for parameters)
mcmc_hist(x, transformations = list(sigma = "log"),
          facet_args = list(labeller = ggplot2::label_parsed)) +
          facet_text(size = 15)

# instead of list(sigma = "log"), you could specify the transformation as
# list(sigma = log) or list(sigma = function(x) log(x)), but then the
# label for the transformed sigma is 't(sigma)' instead of 'log(sigma)'
mcmc_hist(x, transformations = list(sigma = log))

# separate histograms by chain
color_scheme_set("pink")
mcmc_hist_by_chain(x, regex_pars = "beta")


#################
### Densities ###
#################

mcmc_dens(x, pars = c("sigma", "beta[2]"),
          facet_args = list(nrow = 2))

# separate and overlay chains
color_scheme_set("mix-teal-pink")
mcmc_dens_overlay(x, pars = c("sigma", "beta[2]"),
                  facet_args = list(nrow = 2)) +
                  facet_text(size = 14)
x2 &lt;- example_mcmc_draws(params = 6)
mcmc_dens_chains(x2, pars = c("beta[1]", "beta[2]", "beta[3]"))

# separate chains as violin plots
color_scheme_set("green")
mcmc_violin(x) + panel_bg(color = "gray20", size = 2, fill = "gray30")

</pre>

<hr /><div style="text-align: center;">[Package <em>bayesplot</em> version 1.7.2 <a href="00Index.html">Index</a>]</div>
</body></html>
