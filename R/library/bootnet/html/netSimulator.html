<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Network Estimation Performance</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for netSimulator {bootnet}"><tr><td>netSimulator {bootnet}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Network Estimation Performance
</h2>

<h3>Description</h3>

<p>This function can be used to run a simulation study on the performance of network estimation by varying sample size or any argument used as input to <code><a href="estimateNetwork.html">estimateNetwork</a></code>. The purpose of this function is to provide a way to assess the required sample size given a network structure, as well as to easily perform simulation studies. By default, the function uses <code><a href="genGGM.html">genGGM</a></code> to simulate a chain graph or small-world network. See details for more information. The <code>replicationSimulator</code> function instead assesses how well a network based on a second independent sample would replicate the network based on the first independent sample.
</p>


<h3>Usage</h3>

<pre>
netSimulator(
      input = genGGM(Nvar = 10), 
      nCases = c(50, 100, 250, 500, 1000, 2500), 
      nReps = 100,
      nCores = 1, 
      default,
      dataGenerator, 
      moreArgs = list(),
      moreOutput = list()
    ...)
    
replicationSimulator(
      input = genGGM(Nvar = 10), 
      nCases = c(50, 100, 250, 500, 1000, 2500), 
      nReps = 100,
      nCores = 1, 
      default,
      dataGenerator, 
    ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>input</code></td>
<td>

<p>Either a weights matrix, a list containing elements <code>graph</code> (encoding the weights matrix) and <code>intercepts</code> (encoding the intercepts), or a function generating such objects. By default, <code><a href="genGGM.html">genGGM</a></code> is used to generate a Gaussian graphical model. However, it is reccomended to replace this with a prior expected graph structure.
</p>
</td></tr>
<tr valign="top"><td><code>nCases</code></td>
<td>

<p>The sample sizes to test for.
</p>
</td></tr>
<tr valign="top"><td><code>nReps</code></td>
<td>

<p>Number of repetitions per sampling level.
</p>
</td></tr>
<tr valign="top"><td><code>nCores</code></td>
<td>

<p>Number of cores to use. Set to more than 1 to use parallel computing.
</p>
</td></tr>
<tr valign="top"><td><code>default</code></td>
<td>

<p>Default set used (see <code><a href="estimateNetwork.html">estimateNetwork</a></code>). In most cases, this will set <code>dataGenerator</code> to the relevant generator.
</p>
</td></tr>
<tr valign="top"><td><code>dataGenerator</code></td>
<td>

<p>A function that generates data. The first argument must be the sample size, the second argument must be the output of <code>input</code>. Can often be ignored if <code>default</code> is set.
</p>
</td></tr>
<tr valign="top"><td><code>moreOutput</code></td>
<td>
<p>List with functions that take the estimated weights matrix as first argument and the true weights matrix as second argument to produce some output.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>

<p>Arguments used by <code><a href="estimateNetwork.html">estimateNetwork</a></code> to estimate the network structure. Providing a vector for any argument will simulate under each value. This way, any argument in <code><a href="estimateNetwork.html">estimateNetwork</a></code> can be used in a simulation study.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>*any* argument to <code><a href="estimateNetwork.html">estimateNetwork</a></code> can be used in a simulation study, with a vector (e.g., <code>rule = c("AND","OR")</code>) specifying that both conditions are tested. Adding too many conditions can quickly make any simulation study intractible, so only vary some arguments! The <code>dataGenerator</code> argument can be any function that generates data. Currently, only <code><a href="ggmGenerator.html">ggmGenerator</a></code> and <code><a href="IsingGenerator.html">IsingGenerator</a></code> are implemented in bootnet itself, which generates data given a Gaussian graphical model.
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>Examples</h3>

<pre>
# 5-node GGM chain graph:
trueNetwork &lt;- genGGM(5)

# Simulate:
Res &lt;- netSimulator(trueNetwork, nReps = 10)

# Results:
Res

# Plot:
plot(Res)

## Not run: 
library("bootnet")

# BFI example:
# Load data:
library("psych")
data(bfi)
bfiData &lt;- bfi[,1:25]

# Estimate a network structure, with parameters refitted without LASSO regularization:
library("qgraph")
Network &lt;- EBICglasso(cor_auto(bfiData), nrow(bfiData), refit = TRUE)

# Simulate 100 repititions in 8 cores under different sampling levels:
Sim1 &lt;- netSimulator(Network,
                     default = "EBICglasso",
                     nCases = c(100,250,500),
                     nReps = 100,
                     nCores = 8)

# Table of results:
Sim1

# Plot results:
plot(Sim1)

# Compare different default set at two sampling levels:
Sim2 &lt;- netSimulator(Network,
                     default = c("EBICglasso","pcor","huge"),
                     nCases = c(100,250,500),
                     nReps = 100,
                     nCores = 8)

# Print results:
Sim2

# Plot results:
plot(Sim2, xfacet = "default", yvar = "correlation")

# Difference using polychoric or pearson correlations in ordinal data:
Sim3 &lt;- netSimulator(Network,
                     dataGenerator = ggmGenerator(ordinal = TRUE, nLevels = 4),
                     default = "EBICglasso",
                     corMethod = c("cor","cor_auto"),
                     nCases = c(100,250, 500),
                     nReps = 100,
                     nCores = 8)

# Print results:
Sim3

# Plot results:
plot(Sim3, color = "corMethod")

# Ising model:
trueNetwork &lt;- read.csv('http://sachaepskamp.com/files/weiadj.csv')[,-1]
trueNetwork &lt;- as.matrix(trueNetwork)
Symptoms &lt;- rownames(trueNetwork) &lt;- colnames(trueNetwork)
Thresholds &lt;- read.csv('http://sachaepskamp.com/files/thr.csv')[,-1]

# Create an input list (intercepts now needed)
input &lt;- list(graph=trueNetwork,intercepts=Thresholds)

# Simulate under different sampling levels:
Sim4 &lt;- netSimulator(
  input = input,
  default = "IsingFit",
  nCases = c(250,500,1000),
  nReps = 100,
  nCores = 8)

# Results:
Sim4

# Plot:
plot(Sim4)

# Compare AND and OR rule:
Sim5 &lt;- netSimulator(
  input = input,
  default = "IsingFit",
  nCases = c(250,500,1000),
  rule = c("AND","OR"),
  nReps = 100,
  nCores = 8)

# Print:
Sim5

# Plot:
plot(Sim5, yfacet = "rule")


## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>bootnet</em> version 1.1.0 <a href="00Index.html">Index</a>]</div>
</body></html>
